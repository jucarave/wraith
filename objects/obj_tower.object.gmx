<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 0;
direction = 270;
dir = 6;
bright = false;

after_build = -1;

fireInd = 0;
fireWait = 0;
fireRate = 30;

sell_price = 0;
half_price = 0;
upgrade_price = 0;

destroying = false;
progress = 0;
progress_spd = 0;
progress_max = 100;
progress_col = c_green;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>fireInd = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (progress &lt; progress_max){
    progress += progress_spd;
    if (progress &gt;= progress_max){
        if (destroying == true){
            event_user(1);
        }else{
            progress = progress_max;
            sprite_index = after_build;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_blend = c_white;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var ang = direction;

if (ang &lt; 25 || ang &gt;= 340){
    dir = 0;
}else if (ang &gt;= 25 &amp;&amp; ang &lt; 70){
    dir = 1;
}else if (ang &gt;= 70 &amp;&amp; ang &lt; 115){
    dir = 2;
}else if (ang &gt;= 115 &amp;&amp; ang &lt; 160){
    dir = 3;
}else if (ang &gt;= 160 &amp;&amp; ang &lt; 205){
    dir = 4;
}else if (ang &gt;= 205 &amp;&amp; ang &lt; 250){
    dir = 5;
}else if (ang &gt;= 250 &amp;&amp; ang &lt; 295){
    dir = 6;
}else if (ang &gt;= 295 &amp;&amp; ang &lt; 340){
    dir = 7;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var ang = point_direction(x, y, obj_player.x, obj_player.y);

var img = 0;
if (ang &lt; 25 || ang &gt;= 340){
    img = dir - 0;
}else if (ang &gt;= 25 &amp;&amp; ang &lt; 70){
    img = dir - 1;
}else if (ang &gt;= 70 &amp;&amp; ang &lt; 115){
    img = dir - 2;
}else if (ang &gt;= 115 &amp;&amp; ang &lt; 160){
    img = dir - 3;
}else if (ang &gt;= 160 &amp;&amp; ang &lt; 205){
    img = dir - 4;
}else if (ang &gt;= 205 &amp;&amp; ang &lt; 250){
    img = dir - 5;
}else if (ang &gt;= 250 &amp;&amp; ang &lt; 295){
    img = dir - 6;
}else if (ang &gt;= 295 &amp;&amp; ang &lt; 340){
    img = dir - 7;
}


image_index = ((img + 8) mod 8) + (8 * fireInd);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var near = instance_nearest(x, y, obj_enemy);

if (near &amp;&amp; near.active){
    var dist = point_distance(x, y, near.x, near.y);
    if (dist &lt; max_distance){
        var dir = point_direction(x, y, near.x, near.y);
        
        if (fireWait == 0 &amp;&amp; fireRate != 0){
            if (ply_check_bullet(x, y, dir, max_distance)){
                fireInd = 1;
                fireWait = fireRate;
                direction = dir;
                audio_play_sound(snd_machine_gun_shot, 1, false);
                alarm[0] = 10;
            }
        }else{
            fireWait -= 1;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var price = sell_price;
if (obj_system.START_WAVE){
    price = half_price;
}

var _x = floor(x);
var _y = floor(y);

with (obj_system){
    mp_grid_clear_cell(motionMap, _x, _y);
    var len = array_height_2d(enemy_areas);
    for (var i=0;i&lt;len;i++){
        mp_grid_path(motionMap, enemy_areas[i, 2], enemy_areas[i, 0], enemy_areas[i, 1], target_area[0], target_area[1], false);
    }
    
    sys_add_message("Weapon sold!", $32FF32, 60, 2);
    audio_play_sound(snd_buying, 0, false);
    
    MONEY += price;
}

instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (destroying == true) exit;
if (progress &lt; progress_max) exit;

destroying = true;
progress = 0;
progress_col = c_red;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
